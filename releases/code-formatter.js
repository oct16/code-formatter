!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t){e.exports=require("chalk")},function(e,t){e.exports=require("ora")},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(6)),i=r(7);t.FILE_TYPES=["ts","js","all"];const u=["cached","all"],c=o.default.option({file_type:{describe:"Specify the file type",demandOption:!0,default:t.FILE_TYPES[0]}}).choices("file_type",t.FILE_TYPES).option({change_type:{describe:"Specify the change type",demandOption:!0,default:u[1]}}).choices("change_type",u).option({path:{describe:"Specify the path for the files include",demandOption:!0,default:"src"}}).option({exclude:{describe:"Specify the path for the files exclude",demandOption:!0,default:"node_modules"}}).help().argv,{$0:a,_:s,...l}=c,f=Object.entries(l).reduce((e,t)=>(e.body.push(t),e),{head:["name","value"],body:[]}),{head:d,body:p}=f,h=i.createCliTable(d,p);t.default=function(){return{args:l,table:h}}},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(5)},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(0)),i=n(r(1)),u=n(r(2)),c=r(9),a=r(11);(async()=>{i.default(o.default.cyan("Use Script Options:")).start().succeed();const{args:e,table:t}=u.default();console.log(t),await c.getFiles(e).then(a.formatWithPrettier)})()},function(e,t){e.exports=require("yargs")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);let o=r(8);t.createCliTable=function(e,t){const r=new o({head:e.map(e=>n.cyan(e))});return r.push(...t),r.toString()}},function(e,t){e.exports=require("cli-table2")},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(10)),u=o(r(3)),c=r(2),{exec:a}=i;function s(e,t){return e.filter(e=>"all"!==t?e.endsWith(t):c.FILE_TYPES.slice(0,c.FILE_TYPES.length-1).some(t=>e.endsWith(t)))}t.getFiles=function(e){return new Promise(t=>{const{file_type:r,change_type:n,path:o,exclude:i}=e;if("cached"===n)a("git diff --name-only --cached",(e,n,o)=>{if(e)throw new Error(e.message);const i=n.split("\n").filter(Boolean).map(e=>{return u.default.join(process.cwd(),e)});t(s(i,r))});else{const e=process.cwd(),n=i?`! -path "${u.default.join(e,i)}/*"`:"",c="all"===r?"":`-name '*.${r}'`,l=o?o.startsWith("/")?o:`/${o}`:"";a(`find ${e}${l} -type f ${n} ${c}`,(e,n,o)=>{const i=n.split("\n").filter(Boolean);t(s(i,r))})}})}},function(e,t){e.exports=require("child_process")},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(0)),i=n(r(12)),u=n(r(1)),c=n(r(3)),a=n(r(13)),s=r(14),l=a.default.resolveConfig.sync(c.default.resolve(process.cwd(),".prettierrc"));function f(e,t){const r=i.default.readFileSync(e,"utf8");try{return a.default.check(r,t)}catch(t){console.log(o.default.bgRed(e)),console.log(o.default.bgRed(t)),process.exit(1)}}t.formatWithPrettier=async function(e){await async function(e){const t=e.length,r=new s.SingleBar({format:o.default.cyan("|{bar}| {percentage}% | {value}/{total}"),hideCursor:!0},s.Presets.rect);if(t>0){u.default({text:o.default.cyan("Prettier is formatting!")}).stopAndPersist({symbol:"ðŸ§¨ "}),r.start(t,0);let n=Promise.resolve();const c=()=>new Promise(e=>setTimeout(()=>e(),20));e.forEach(e=>{n=n.then(async()=>{await function(e,t){const r=i.default.readFileSync(e,"utf8"),n=a.default.format(r,t);return i.default.writeFileSync(e,n),Promise.resolve()}(e,l),await c(),r.increment()})}),await n,r.stop()}else u.default("No files needs to be update").warn()}(function(e){if(!l)throw new Error("Do not find a prettierc config file");const t=u.default("Analyzing files").start(),r=e.filter(e=>!f(e,l));return t.succeed(),r}(e)).finally(()=>{u.default("Formatted successfully").succeed()})},t.checkFileIsFormatted=f},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("prettier")},function(e,t){e.exports=require("cli-progress")}]);