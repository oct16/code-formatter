!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t){e.exports=require("chalk")},function(e,t){e.exports=require("ora")},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(6)),i=r(7);t.FILE_TYPES=["ts","js","all"];const u=["cached","all"],a=o.default.option({file_type:{describe:"Specify the file type",demandOption:!0,default:t.FILE_TYPES[0]}}).choices("file_type",t.FILE_TYPES).option({change_type:{describe:"Specify the change type",demandOption:!0,default:u[1]}}).choices("change_type",u).option({path:{describe:"Specify the path for the files include",demandOption:!0,default:"src"}}).option({exclude:{describe:"Specify the path for the files exclude",demandOption:!0,default:"node_modules"}}).help().argv,{$0:c,_:l,...s}=a,f=Object.entries(s).reduce((e,t)=>(e.body.push(t),e),{head:["name","value"],body:[]}),{head:d,body:p}=f,h=i.createCliTable(d,p);t.default=function(){return{args:s,table:h}}},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(5)},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(0)),i=n(r(1)),u=n(r(2)),a=r(9),c=r(11);(async()=>{i.default(o.default.cyan("Use Script Options:")).start().succeed();const{args:e,table:t}=u.default();console.log(t),await a.getFiles(e).then(c.formatWithPrettier)})()},function(e,t){e.exports=require("yargs")},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(0)),i=n(r(8));t.createCliTable=function(e,t){const r=new i.default({head:e.map(e=>o.default.cyan(e))});return r.push(...t),r.toString()}},function(e,t){e.exports=require("cli-table2")},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(10)),u=o(r(3)),a=r(2),{exec:c}=i;function l(e,t){return e.filter(e=>"all"!==t?e.endsWith(t):a.FILE_TYPES.slice(0,a.FILE_TYPES.length-1).some(t=>e.endsWith(t)))}t.getFiles=function(e){return new Promise(t=>{const{file_type:r,change_type:n,path:o,exclude:i}=e;if("cached"===n)c("git diff --name-only --cached",(e,n,o)=>{if(e)throw new Error(e.message);const i=n.split("\n").filter(Boolean).map(e=>{return u.default.join(process.cwd(),e)});t(l(i,r))});else{const e=process.cwd(),n=i?`! -path "${u.default.join(e,i)}/*"`:"",a="all"===r?"":`-name '*.${r}'`,s=o?o.startsWith("/")?o:`/${o}`:"";c(`find ${e}${s} -type f ${n} ${a}`,(e,n,o)=>{const i=n.split("\n").filter(Boolean);t(l(i,r))})}})}},function(e,t){e.exports=require("child_process")},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(0)),i=n(r(12)),u=n(r(13)),a=n(r(1)),c=n(r(3)),l=n(r(14)),s=l.default.resolveConfig.sync(c.default.resolve(process.cwd(),".prettierrc"));function f(e,t){const r=u.default.readFileSync(e,"utf8");try{return l.default.check(r,t)}catch(t){console.log(o.default.bgRed(e)),console.log(o.default.bgRed(t)),process.exit(1)}}t.formatWithPrettier=async function(e){await async function(e){const t=e.length,r=new i.default.SingleBar({format:o.default.cyan("|{bar}| {percentage}% | {value}/{total}"),hideCursor:!0},i.default.Presets.rect);if(t>0){a.default({text:o.default.cyan("Prettier is formatting!")}).stopAndPersist({symbol:"ðŸ§¨ "}),r.start(t,0);let n=Promise.resolve();const i=()=>new Promise(e=>setTimeout(()=>e(),20));e.forEach(e=>{n=n.then(async()=>{await function(e,t){const r=u.default.readFileSync(e,"utf8"),n=l.default.format(r,t);return u.default.writeFileSync(e,n),Promise.resolve()}(e,s),await i(),r.increment()})}),await n,r.stop()}else a.default("No files needs to be update").warn()}(function(e){if(!s)throw new Error("Do not find a prettierc config file");const t=a.default("Analyzing files").start(),r=e.filter(e=>!f(e,s));return t.succeed(),r}(e)).finally(()=>{a.default("Formatted successfully").succeed()})},t.checkFileIsFormatted=f},function(e,t){e.exports=require("cli-progress")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("prettier")}]);